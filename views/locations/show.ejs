<%- include('../partials/header') %>

<section id="show-page">
  <div>Location Name:</div>
  <div><%= location.locationName %></div>
  <div>Address:</div>
  <div><%= location.locationAddress %></div>
  <div>Hours:</div>
  <div><%= location.hoursOfOp %></div>
  <div>Password:</div>
  <div><%= location.wifiPassword %></div>
  <br />
  <h2>Comments</h2>

  <% if (user) { %>
  <form
    id="add-comment-form"
    method="POST"
    action="/locations/<%= location._id %>/comments "
  >
    <label for="#">User Comment:</label>
    <textarea name="comments" id="#" cols="30" rows="10"></textarea>
    <!-- comment box ^^^^ -->
    <!-- <label>WiFi Speedscore:</label>
      <select name="rating" id="#">
        <option value="1">Very Poor</option>
        <option value="2">Poor</option>
        <option value="3">Satisfactory</option>
        <option value="4">Good</option>
        <option value="5">Excellent</option>
      </select> -->
    <!-- comment submit button below -->
    <button type="submit" value="Add Comment">Submit Comment</button>
  </form>
   <% } %> <% if (location.comments.length) { %> 
  <table>
    <!-- posted comments table head -->
    <thead>
      <tr>
        <!-- <th>Date</th> -->
        <th>Comment</th>
        <!-- <th>WiFi Speed Score</th> -->
      </tr>
    </thead>
    <!-- posted comments field population -->
    <tbody>
      <% let total=0 %> <% location.comments.forEach(function(c) { %>
      <tr>
        <td class="comment-user">
          <img src="<%= c.userAvatar %>" alt="avatar" /><%= c.userName %>
        </td>
        <td>
          <p><%= c.comments %></p>
          <!-- date prototype needed here -->
          <p></p>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>
  <% } %>
</section>

<!-- Above I have a working page diplaying individual location, as well as the
comments input field and existing comments table. I need to create the delete -->
<!-- functionality for each comment posted by a unique user. I need to make sure
that the username of the commentor populates when ever they leave a comment. I
need to make sure that the comment date timestamp populates whenever a user
leaves a comment. -->
